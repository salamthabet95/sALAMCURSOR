# حل سريع لمشكلة "حدث خطأ في الاتصال"

## الخطوة 1: اختبار الاتصال

افتح في المتصفح:
```
https://yourdomain.com/api/test-connection.php
```

هذا الملف سيعرض لك:
- ✅ حالة ملفات الإعدادات
- ✅ حالة قاعدة البيانات
- ✅ حالة مجلدات التخزين
- ✅ حالة API مواقيت الصلاة

## الخطوة 2: التحقق من الملفات المطلوبة

### ملفات يجب أن تكون موجودة:

1. `config/config.php` - **مطلوب**
   - انسخ من `config/config.php.example`
   - عدّل `BASE_URL` إلى رابط موقعك

2. `config/database.php` - **اختياري** (للعمل بدون قاعدة بيانات)
   - انسخ من `config/database.php.example`
   - أدخل بيانات قاعدة البيانات

## الخطوة 3: إصلاح المشاكل الشائعة

### المشكلة: "ملف الإعدادات غير موجود"
**الحل:**
```bash
# في File Manager على Hostinger
cp config/config.php.example config/config.php
# ثم عدّل BASE_URL
```

### المشكلة: "فشل في جلب مواقيت الصلاة"
**الحل:**
- تحقق من أن `api/prayer-times.php` موجود
- تحقق من أن السيرفر يمكنه الوصول للإنترنت (لجلب البيانات من Aladhan API)

### المشكلة: "Directory is not writable"
**الحل:**
في File Manager على Hostinger:
1. اختر مجلد `storage/`
2. اضغط "Change Permissions"
3. ضع: `755` للمجلدات
4. تأكد من أن `uploads/`, `exports/`, `cache/` كلها `755`

## الخطوة 4: اختبار API مباشرة

افتح في المتصفح:
```
https://yourdomain.com/api/prayer-times.php?city=رام الله
```

يجب أن ترى JSON response مع مواقيت الصلاة.

## الخطوة 5: التحقق من سجلات الأخطاء

في cPanel → Error Logs:
- ابحث عن أي أخطاء PHP
- ابحث عن أخطاء قاعدة البيانات
- ابحث عن أخطاء في المسارات

## إذا استمرت المشكلة

1. افتح `api/test-connection.php` وشارك النتيجة
2. تحقق من Error Logs في cPanel
3. تأكد من أن PHP version 8.0+ مفعّل
4. تأكد من أن mod_rewrite مفعّل

## ملاحظة مهمة

إذا لم تكن قاعدة البيانات جاهزة بعد، النظام سيعمل بدون قاعدة بيانات لكن:
- لن يتم حفظ الطلبات
- الملفات ستُنشأ فقط
